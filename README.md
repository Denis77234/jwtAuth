# jwtAuth

Api имеет 2 REST пути:

1. /auth/Tokens - обращение через POST, в теле HTTP передавать json с полем GUID, возвращает json с полями access и refresh
2. /auth/Refresh - обращение через PUT, в заголовке запроса передавать access token - Authorization: Bearer \<token\>, <br>
в теле запроса передавать json с полем refresh, возвращает json с полями access и refresh

## Установка

#### A. Используя Docker

1. Перейти в дерикторию с проектом и прописать в терминал команду $make run


#### B. Локальная установка
1. Скачать mongodb
2. Установить 4 переменные окружения MONGO_URI - uri для подключения в базе данных, <br>
ACCESS_SECRET - ключ шифрования access токена, REFRESH_SECRET - ключ шифрования refresh токена,<br>
SERVER_PORT - порт по которому будет производиться обращение к серверу
3. Перейти в дерикторию с проектом и прописать в терминал команду $make runLocal



## Задание

Используемые технологии:

Go
JWT
MongoDB

Задание:

Написать часть сервиса аутентификации.

Два REST маршрута:

Первый маршрут выдает пару Access, Refresh токенов для пользователя сидентификатором (GUID) указанным в параметре запроса

Второй маршрут выполняет Refresh операцию на пару Access, Refreshтокенов

Требования:

Access токен тип JWT, алгоритм SHA512, хранить в базе строго запрещено.

Refresh токен тип произвольный, формат передачи base64, хранится в базеисключительно в виде bcrypt хеша, должен быть защищен от изменения настороне клиента и попыток повторного использования.

Access, Refresh токены обоюдно связаны, Refresh операцию для Access токена можно выполнить только тем Refresh токеном который был выдан вместе с ним.